[gd_scene load_steps=39 format=3 uid="uid://dl1byu8hqw4mw"]

[ext_resource type="PackedScene" uid="uid://br7aoq0w2kfm1" path="res://ui/inventory/inventory.tscn" id="1_c6u1d"]
[ext_resource type="PackedScene" uid="uid://djtrj5g657g3j" path="res://ui/guild_inventory/guild_inventory.tscn" id="2_lbyju"]
[ext_resource type="Texture2D" uid="uid://5gy84p2y6ixf" path="res://sprites/table.png" id="3_1y038"]
[ext_resource type="PackedScene" uid="uid://634q8wglwew8" path="res://ui/drag_item.tscn" id="3_7hncm"]
[ext_resource type="Texture2D" uid="uid://3mjugo5uy3p2" path="res://sprites/bg.png" id="3_meciq"]
[ext_resource type="Texture2D" uid="uid://dpg3qmngv8hls" path="res://sprites/background_map.png" id="4_voggx"]
[ext_resource type="Script" path="res://ui/quest/LoreTextLabel.gd" id="5_154nt"]
[ext_resource type="Script" path="res://ui/character/CharacterContainer.gd" id="5_jqe66"]
[ext_resource type="FontFile" uid="uid://c5yew2avgbgaf" path="res://ui/Kenney_Mini.ttf" id="7_aaqdi"]
[ext_resource type="Script" path="res://ui/quest/QuestContainer.gd" id="7_gsruu"]
[ext_resource type="Texture2D" uid="uid://cq6b7sunx4y0" path="res://sprites/speech_border.png" id="7_liept"]
[ext_resource type="FontFile" uid="uid://2etwp4dlewx1" path="res://ui/Alkhemikal.ttf" id="10_ag3ut"]
[ext_resource type="Texture2D" uid="uid://b6ngdtle8g1ja" path="res://sprites/accept_button_nohighlight.png" id="10_amun7"]
[ext_resource type="Texture2D" uid="uid://da0pb5nnqv163" path="res://sprites/accept_fancy_button_neutral.png" id="10_ja2d1"]
[ext_resource type="Texture2D" uid="uid://5rbq6la285do" path="res://sprites/accept_fancy_button.png" id="11_nfuc4"]
[ext_resource type="Texture2D" uid="uid://o13ndrnc7ro" path="res://sprites/accept_button_highlight.png" id="11_repym"]
[ext_resource type="Texture2D" uid="uid://mb7fa33mswfd" path="res://sprites/accept_button_select.png" id="12_1ksbc"]
[ext_resource type="Texture2D" uid="uid://dyp0ffysgom04" path="res://sprites/accept_fancy_button_hover.png" id="12_n6n5a"]
[ext_resource type="Texture2D" uid="uid://cu4xiy1etgtcj" path="res://sprites/text_bubble_triangle.png" id="13_mdiil"]
[ext_resource type="Texture2D" uid="uid://bqkfljs6ant83" path="res://sprites/text_bubble_corner.png" id="14_dlk2j"]
[ext_resource type="Script" path="res://ui/result_popup.gd" id="15_7l7lh"]
[ext_resource type="Texture2D" uid="uid://c85ambrefmjbl" path="res://sprites/transition_wipe.png" id="22_5tb8k"]

[sub_resource type="Animation" id="Animation_iw16l"]
resource_name = "Arrive"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SpriteLocation:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-50, 62), Vector2(73, 55)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(3),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"character_arrived"
}]
}

[sub_resource type="Animation" id="Animation_iq2be"]
resource_name = "Depart"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SpriteLocation:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(88.5, 56.5), Vector2(-50, 62)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(3),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"character_departed"
}]
}

[sub_resource type="Animation" id="Animation_7pqff"]
resource_name = "Idle"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SpriteLocation:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(73, 55), Vector2(73, 50), Vector2(73, 55)]
}

[sub_resource type="Animation" id="Animation_yanyu"]
resource_name = "Leave"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SpriteLocation:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(73, 55), Vector2(-50, 62)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(3),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"character_left"
}]
}

[sub_resource type="Animation" id="Animation_ltmo3"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SpriteLocation:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(73, 55)]
}

[sub_resource type="Animation" id="Animation_fhf7g"]
resource_name = "Return"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SpriteLocation:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-50, 62), Vector2(73, 55)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(3),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"character_return"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_dhnli"]
_data = {
"Arrive": SubResource("Animation_iw16l"),
"Depart": SubResource("Animation_iq2be"),
"Idle": SubResource("Animation_7pqff"),
"Leave": SubResource("Animation_yanyu"),
"RESET": SubResource("Animation_ltmo3"),
"Return": SubResource("Animation_fhf7g")
}

[sub_resource type="Theme" id="Theme_es6dv"]

[sub_resource type="Animation" id="Animation_owwab"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 240)]
}

[sub_resource type="Animation" id="Animation_eq65g"]
resource_name = "slide"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(0.31864, 1),
"update": 0,
"values": [Vector2(0, 240), Vector2(0, 4)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_x5431"]
_data = {
"RESET": SubResource("Animation_owwab"),
"slide": SubResource("Animation_eq65g")
}

[sub_resource type="LabelSettings" id="LabelSettings_7ryjg"]
font = ExtResource("10_ag3ut")
font_size = 50
outline_size = 16
outline_color = Color(0, 0, 0, 1)

[sub_resource type="Animation" id="Animation_1imkt"]
resource_name = "swipe_hide"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(256, -438), Vector2(256, 218)]
}

[sub_resource type="Animation" id="Animation_jrm34"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(256, -448)]
}

[sub_resource type="Animation" id="Animation_gw1f2"]
resource_name = "swipe_show"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(256, 218), Vector2(256, 928)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_o34j8"]
_data = {
"RESET": SubResource("Animation_jrm34"),
"swipe_hide": SubResource("Animation_1imkt"),
"swipe_show": SubResource("Animation_gw1f2")
}

[node name="Main" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = -240.0
offset_bottom = -180.0
grow_horizontal = 2
grow_vertical = 2

[node name="DragItem" parent="." instance=ExtResource("3_7hncm")]
z_index = 4
layout_mode = 2
offset_left = 276.0
offset_top = 1086.0
offset_right = 316.0
offset_bottom = 1126.0

[node name="CharacterContainer" type="Control" parent="."]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
scale = Vector2(2, 2)
script = ExtResource("5_jqe66")

[node name="Background" type="Sprite2D" parent="CharacterContainer"]
position = Vector2(121, 52.5)
texture = ExtResource("3_meciq")

[node name="Map" type="Sprite2D" parent="CharacterContainer"]
visible = false
position = Vector2(120, 49)
texture = ExtResource("4_voggx")

[node name="SpriteLocation" type="Node2D" parent="CharacterContainer"]
position = Vector2(73, 55)

[node name="AnimationPlayer" type="AnimationPlayer" parent="CharacterContainer"]
libraries = {
"": SubResource("AnimationLibrary_dhnli")
}

[node name="QuestContainer" type="Control" parent="."]
anchors_preset = 0
offset_left = -23.0
offset_top = 12.0
offset_right = -23.0
offset_bottom = 12.0
mouse_filter = 1
script = ExtResource("7_gsruu")

[node name="Sprite2D5" type="Sprite2D" parent="QuestContainer"]
position = Vector2(310, 9)
scale = Vector2(2, 2)
texture = ExtResource("14_dlk2j")

[node name="Sprite2D6" type="Sprite2D" parent="QuestContainer"]
position = Vector2(497, 9)
scale = Vector2(2, 2)
texture = ExtResource("14_dlk2j")
flip_h = true

[node name="Sprite2D7" type="Sprite2D" parent="QuestContainer"]
position = Vector2(310, 167)
scale = Vector2(2, 2)
texture = ExtResource("14_dlk2j")
flip_v = true

[node name="Sprite2D8" type="Sprite2D" parent="QuestContainer"]
position = Vector2(497, 167)
scale = Vector2(2, 2)
texture = ExtResource("14_dlk2j")
flip_h = true
flip_v = true

[node name="Sprite2D4" type="Sprite2D" parent="QuestContainer"]
position = Vector2(313, 79)
scale = Vector2(2, 2)
texture = ExtResource("13_mdiil")

[node name="ColorRect" type="ColorRect" parent="QuestContainer"]
layout_mode = 0
offset_left = 315.0
offset_right = 491.0
offset_bottom = 183.0
color = Color(0.0509804, 0.0313726, 0.101961, 1)

[node name="ColorRect2" type="ColorRect" parent="QuestContainer"]
layout_mode = 0
offset_left = 309.0
offset_right = 498.0
offset_bottom = 172.0
color = Color(0.0509804, 0.0313726, 0.101961, 1)

[node name="ColorRect3" type="ColorRect" parent="QuestContainer"]
layout_mode = 0
offset_left = 313.0
offset_top = -7.0
offset_right = 492.0
offset_bottom = 175.0
color = Color(0.0509804, 0.0313726, 0.101961, 1)

[node name="LoreTextLabel" type="RichTextLabel" parent="QuestContainer"]
layout_mode = 0
offset_left = 322.0
offset_top = 8.0
offset_right = 488.0
offset_bottom = 151.0
theme_override_fonts/normal_font = ExtResource("7_aaqdi")
theme_override_fonts/bold_font = ExtResource("7_aaqdi")
theme_override_fonts/italics_font = ExtResource("7_aaqdi")
theme_override_fonts/bold_italics_font = ExtResource("7_aaqdi")
theme_override_fonts/mono_font = ExtResource("7_aaqdi")
theme_override_font_sizes/normal_font_size = 16
theme_override_font_sizes/bold_font_size = 16
bbcode_enabled = true
scroll_following = true
script = ExtResource("5_154nt")

[node name="QuestAcceptButton" type="TextureButton" parent="QuestContainer"]
layout_mode = 0
offset_left = 411.0
offset_top = 150.0
offset_right = 451.0
offset_bottom = 162.0
scale = Vector2(2, 2)
theme = SubResource("Theme_es6dv")
texture_normal = ExtResource("10_ja2d1")
texture_pressed = ExtResource("11_nfuc4")
texture_hover = ExtResource("12_n6n5a")

[node name="DragAndDropContainer" type="Control" parent="."]
layout_mode = 2
anchors_preset = 0
offset_left = 14.0
offset_top = 264.0
offset_right = 526.0
offset_bottom = 520.0
scale = Vector2(2, 2)
mouse_filter = 1

[node name="GuildInventory" parent="DragAndDropContainer" instance=ExtResource("2_lbyju")]
layout_mode = 2
anchors_preset = 0
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
offset_left = 168.5
offset_top = -1.5
offset_right = 216.5
offset_bottom = 110.5
grow_horizontal = 0
grow_vertical = 0
mouse_filter = 1

[node name="Table" type="Sprite2D" parent="DragAndDropContainer"]
position = Vector2(81, 52)
texture = ExtResource("3_1y038")

[node name="Inventory" parent="DragAndDropContainer" instance=ExtResource("1_c6u1d")]
offset_left = -4.0
offset_top = -12.0
offset_right = 188.0
offset_bottom = 100.0

[node name="Inventory3" parent="DragAndDropContainer" instance=ExtResource("1_c6u1d")]
visible = false
layout_mode = 2
offset_left = 3.0
offset_top = 10.0
offset_right = 3.0
offset_bottom = 266.0

[node name="Slot36" parent="DragAndDropContainer/Inventory3" index="34"]
blocked = true

[node name="Slot37" parent="DragAndDropContainer/Inventory3" index="35"]
blocked = true

[node name="Slot38" parent="DragAndDropContainer/Inventory3" index="36"]
blocked = true

[node name="Slot39" parent="DragAndDropContainer/Inventory3" index="37"]
blocked = true

[node name="Slot46" parent="DragAndDropContainer/Inventory3" index="43"]
blocked = true

[node name="Slot47" parent="DragAndDropContainer/Inventory3" index="44"]
blocked = true

[node name="Slot48" parent="DragAndDropContainer/Inventory3" index="45"]
blocked = true

[node name="Slot49" parent="DragAndDropContainer/Inventory3" index="46"]
blocked = true

[node name="ResultContainer" type="Control" parent="."]
visible = false
z_index = 20
anchors_preset = 0
offset_top = 240.0
offset_right = 40.0
offset_bottom = 280.0
script = ExtResource("15_7l7lh")

[node name="ColorRect" type="ColorRect" parent="ResultContainer"]
layout_mode = 0
offset_top = 170.0
offset_right = 551.0
offset_bottom = 410.0
color = Color(0.0509804, 0.0313726, 0.101961, 1)

[node name="Sprite2D4" type="Sprite2D" parent="ResultContainer"]
position = Vector2(273, 142)
rotation = 1.5708
scale = Vector2(2, 20)
texture = ExtResource("7_liept")

[node name="AnimationPlayer" type="AnimationPlayer" parent="ResultContainer"]
libraries = {
"": SubResource("AnimationLibrary_x5431")
}

[node name="Success" type="Label" parent="ResultContainer"]
visible = false
layout_mode = 0
offset_left = 203.0
offset_top = 186.0
offset_right = 357.0
offset_bottom = 237.0
text = "Success!"
label_settings = SubResource("LabelSettings_7ryjg")

[node name="Failure" type="Label" parent="ResultContainer"]
layout_mode = 0
offset_left = 194.0
offset_top = 185.0
offset_right = 360.0
offset_bottom = 236.0
text = "Failure!"
label_settings = SubResource("LabelSettings_7ryjg")

[node name="Accept" type="TextureButton" parent="ResultContainer"]
layout_mode = 0
offset_left = 237.0
offset_top = 367.0
offset_right = 301.0
offset_bottom = 407.0
texture_normal = ExtResource("10_amun7")
texture_pressed = ExtResource("12_1ksbc")
texture_hover = ExtResource("11_repym")

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(256, -448)
scale = Vector2(2, 2)
texture = ExtResource("22_5tb8k")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Sprite2D"]
libraries = {
"": SubResource("AnimationLibrary_o34j8")
}

[connection signal="meta_clicked" from="QuestContainer/LoreTextLabel" to="QuestContainer/LoreTextLabel" method="_on_meta_clicked"]
[connection signal="pressed" from="QuestContainer/QuestAcceptButton" to="QuestContainer" method="_on_quest_accept_button_pressed"]
[connection signal="pressed" from="ResultContainer/Accept" to="ResultContainer" method="_on_accept_pressed"]

[editable path="DragAndDropContainer/Inventory"]
[editable path="DragAndDropContainer/Inventory3"]
