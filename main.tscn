[gd_scene load_steps=20 format=3 uid="uid://cqlvmmdix1v1d"]

[ext_resource type="PackedScene" uid="uid://br7aoq0w2kfm1" path="res://ui/inventory/inventory.tscn" id="1_c6u1d"]
[ext_resource type="PackedScene" uid="uid://djtrj5g657g3j" path="res://ui/guild_inventory/guild_inventory.tscn" id="2_lbyju"]
[ext_resource type="Texture2D" uid="uid://5gy84p2y6ixf" path="res://sprites/table.png" id="3_1y038"]
[ext_resource type="PackedScene" uid="uid://634q8wglwew8" path="res://ui/drag_item.tscn" id="3_7hncm"]
[ext_resource type="Script" path="res://ui/quest/LoreTextLabel.gd" id="5_154nt"]
[ext_resource type="Script" path="res://ui/character/CharacterContainer.gd" id="5_jqe66"]
[ext_resource type="Texture2D" uid="uid://d0qr8ip752bov" path="res://ui/character/background.png" id="6_rq4n8"]
[ext_resource type="Script" path="res://ui/quest/QuestContainer.gd" id="7_gsruu"]
[ext_resource type="Texture2D" uid="uid://cq6b7sunx4y0" path="res://sprites/speech_border.png" id="7_liept"]
[ext_resource type="Texture2D" uid="uid://dvxn1aka7pqtk" path="res://sprites/speech_marker.png" id="8_4cm77"]
[ext_resource type="FontFile" uid="uid://2etwp4dlewx1" path="res://ui/Alkhemikal.ttf" id="10_ag3ut"]
[ext_resource type="Texture2D" uid="uid://b6ngdtle8g1ja" path="res://sprites/accept_button_nohighlight.png" id="10_amun7"]
[ext_resource type="Texture2D" uid="uid://o13ndrnc7ro" path="res://sprites/accept_button_highlight.png" id="11_repym"]
[ext_resource type="Texture2D" uid="uid://mb7fa33mswfd" path="res://sprites/accept_button_select.png" id="12_1ksbc"]

[sub_resource type="Animation" id="Animation_7pqff"]
resource_name = "Idle"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SpriteLocation:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(88.5, 56.5), Vector2(88.5, 50.5), Vector2(88.5, 56.5)]
}

[sub_resource type="Animation" id="Animation_yanyu"]
resource_name = "Leave"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SpriteLocation:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(88.5, 56.5), Vector2(-50, 50)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(3),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"character_left"
}]
}

[sub_resource type="Animation" id="Animation_fhf7g"]
resource_name = "Return"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SpriteLocation:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-50, 62), Vector2(88.5, 56.5)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(3),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"character_return"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_dhnli"]
_data = {
"Idle": SubResource("Animation_7pqff"),
"Leave": SubResource("Animation_yanyu"),
"Return": SubResource("Animation_fhf7g")
}

[sub_resource type="Theme" id="Theme_es6dv"]

[node name="Main" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = -240.0
offset_bottom = -180.0
grow_horizontal = 2
grow_vertical = 2

[node name="DragItem" parent="." instance=ExtResource("3_7hncm")]
z_index = 4
layout_mode = 2
offset_left = 276.0
offset_top = 1086.0
offset_right = 316.0
offset_bottom = 1126.0

[node name="CharacterContainer" type="Control" parent="."]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
scale = Vector2(2, 2)
script = ExtResource("5_jqe66")

[node name="Background" type="Sprite2D" parent="CharacterContainer"]
position = Vector2(120, 49)
texture = ExtResource("6_rq4n8")

[node name="SpriteLocation" type="Node2D" parent="CharacterContainer"]
position = Vector2(88.5, 56.5)

[node name="ColorRect" type="ColorRect" parent="CharacterContainer"]
layout_mode = 0
offset_left = 167.0
offset_top = -1.0
offset_right = 281.0
offset_bottom = 99.0
color = Color(0.0509804, 0.0313726, 0.101961, 1)

[node name="AnimationPlayer" type="AnimationPlayer" parent="CharacterContainer"]
autoplay = "Idle"
libraries = {
"": SubResource("AnimationLibrary_dhnli")
}

[node name="DragAndDropContainer" type="Control" parent="."]
custom_minimum_size = Vector2(512, 256)
layout_mode = 2
anchors_preset = 0
offset_left = 15.0
offset_top = 150.0
offset_right = 527.0
offset_bottom = 406.0
scale = Vector2(2, 2)
mouse_filter = 1

[node name="GuildInventory" parent="DragAndDropContainer" instance=ExtResource("2_lbyju")]
layout_mode = 2
anchors_preset = 0
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
offset_left = 179.0
offset_top = 20.0
offset_right = 227.0
offset_bottom = 132.0
grow_horizontal = 0
grow_vertical = 0
mouse_filter = 1

[node name="Table" type="Sprite2D" parent="DragAndDropContainer"]
position = Vector2(88, 74)
texture = ExtResource("3_1y038")

[node name="Inventory" parent="DragAndDropContainer" instance=ExtResource("1_c6u1d")]
offset_left = 3.0
offset_top = 10.0
offset_right = 195.0
offset_bottom = 122.0

[node name="Inventory3" parent="DragAndDropContainer" instance=ExtResource("1_c6u1d")]
visible = false
layout_mode = 2
offset_left = 3.0
offset_top = 10.0
offset_right = 3.0
offset_bottom = 266.0

[node name="Slot36" parent="DragAndDropContainer/Inventory3" index="34"]
blocked = true

[node name="Slot37" parent="DragAndDropContainer/Inventory3" index="35"]
blocked = true

[node name="Slot38" parent="DragAndDropContainer/Inventory3" index="36"]
blocked = true

[node name="Slot39" parent="DragAndDropContainer/Inventory3" index="37"]
blocked = true

[node name="Slot46" parent="DragAndDropContainer/Inventory3" index="43"]
blocked = true

[node name="Slot47" parent="DragAndDropContainer/Inventory3" index="44"]
blocked = true

[node name="Slot48" parent="DragAndDropContainer/Inventory3" index="45"]
blocked = true

[node name="Slot49" parent="DragAndDropContainer/Inventory3" index="46"]
blocked = true

[node name="QuestContainer" type="Control" parent="."]
anchors_preset = 0
offset_left = 23.0
offset_top = 8.5
offset_right = 23.0
offset_bottom = 8.5
mouse_filter = 1
script = ExtResource("7_gsruu")

[node name="Sprite2D" type="Sprite2D" parent="QuestContainer"]
position = Vector2(279, 2.5)
scale = Vector2(2, 2)
texture = ExtResource("7_liept")

[node name="Sprite2D3" type="Sprite2D" parent="QuestContainer"]
position = Vector2(279, 129)
scale = Vector2(2, 2)
texture = ExtResource("7_liept")

[node name="Sprite2D2" type="Sprite2D" parent="QuestContainer"]
position = Vector2(279, 65)
scale = Vector2(2, 2)
texture = ExtResource("8_4cm77")

[node name="LoreTextLabel" type="RichTextLabel" parent="QuestContainer"]
layout_mode = 0
offset_left = 316.0
offset_top = -3.0
offset_right = 521.0
offset_bottom = 155.0
theme_override_fonts/normal_font = ExtResource("10_ag3ut")
theme_override_fonts/bold_font = ExtResource("10_ag3ut")
theme_override_fonts/italics_font = ExtResource("10_ag3ut")
theme_override_fonts/bold_italics_font = ExtResource("10_ag3ut")
theme_override_fonts/mono_font = ExtResource("10_ag3ut")
theme_override_font_sizes/normal_font_size = 16
theme_override_font_sizes/bold_font_size = 16
bbcode_enabled = true
scroll_following = true
script = ExtResource("5_154nt")

[node name="QuestAcceptButton" type="TextureButton" parent="QuestContainer"]
layout_mode = 0
offset_left = 466.0
offset_top = 150.5
offset_right = 530.0
offset_bottom = 182.5
theme = SubResource("Theme_es6dv")
texture_normal = ExtResource("10_amun7")
texture_pressed = ExtResource("11_repym")
texture_hover = ExtResource("12_1ksbc")

[node name="ResultContainer" type="Control" parent="."]
visible = false
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[connection signal="meta_clicked" from="QuestContainer/LoreTextLabel" to="QuestContainer/LoreTextLabel" method="_on_meta_clicked"]
[connection signal="pressed" from="QuestContainer/QuestAcceptButton" to="QuestContainer" method="_on_quest_accept_button_pressed"]

[editable path="DragAndDropContainer/Inventory"]
[editable path="DragAndDropContainer/Inventory3"]
